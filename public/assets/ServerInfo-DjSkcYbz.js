import{a as Z}from"./axios-B6xwUs71.js";import{c,a as i,F as q,r as H,o as f,t as F,n as m,d as v}from"./index-BCTaI1bM.js";const E="3.7.7",J=E,l=typeof Buffer=="function",B=typeof TextDecoder=="function"?new TextDecoder:void 0,C=typeof TextEncoder=="function"?new TextEncoder:void 0,G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=Array.prototype.slice.call(G),h=(t=>{let e={};return t.forEach((o,r)=>e[o]=r),e})(u),K=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,a=String.fromCharCode.bind(String),U=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),T=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),$=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),w=t=>{let e,o,r,s,n="";const x=t.length%3;for(let p=0;p<t.length;){if((o=t.charCodeAt(p++))>255||(r=t.charCodeAt(p++))>255||(s=t.charCodeAt(p++))>255)throw new TypeError("invalid character found");e=o<<16|r<<8|s,n+=u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[e&63]}return x?n.slice(0,x-3)+"===".substring(x):n},g=typeof btoa=="function"?t=>btoa(t):l?t=>Buffer.from(t,"binary").toString("base64"):w,y=l?t=>Buffer.from(t).toString("base64"):t=>{let o=[];for(let r=0,s=t.length;r<s;r+=4096)o.push(a.apply(null,t.subarray(r,r+4096)));return g(o.join(""))},A=(t,e=!1)=>e?T(y(t)):y(t),M=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?a(192|e>>>6)+a(128|e&63):a(224|e>>>12&15)+a(128|e>>>6&63)+a(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return a(240|e>>>18&7)+a(128|e>>>12&63)+a(128|e>>>6&63)+a(128|e&63)}},Q=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,R=t=>t.replace(Q,M),S=l?t=>Buffer.from(t,"utf8").toString("base64"):C?t=>y(C.encode(t)):t=>g(R(t)),d=(t,e=!1)=>e?T(S(t)):S(t),I=t=>d(t,!0),W=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,X=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),o=e-65536;return a((o>>>10)+55296)+a((o&1023)+56320);case 3:return a((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return a((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},z=t=>t.replace(W,X),j=t=>{if(t=t.replace(/\s+/g,""),!K.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,o="",r,s;for(let n=0;n<t.length;)e=h[t.charAt(n++)]<<18|h[t.charAt(n++)]<<12|(r=h[t.charAt(n++)])<<6|(s=h[t.charAt(n++)]),o+=r===64?a(e>>16&255):s===64?a(e>>16&255,e>>8&255):a(e>>16&255,e>>8&255,e&255);return o},_=typeof atob=="function"?t=>atob($(t)):l?t=>Buffer.from(t,"base64").toString("binary"):j,k=l?t=>U(Buffer.from(t,"base64")):t=>U(_(t).split("").map(e=>e.charCodeAt(0))),L=t=>k(N(t)),Y=l?t=>Buffer.from(t,"base64").toString("utf8"):B?t=>B.decode(k(t)):t=>z(_(t)),N=t=>$(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),b=t=>Y(N(t)),tt=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},O=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),P=function(){const t=(e,o)=>Object.defineProperty(String.prototype,e,O(o));t("fromBase64",function(){return b(this)}),t("toBase64",function(e){return d(this,e)}),t("toBase64URI",function(){return d(this,!0)}),t("toBase64URL",function(){return d(this,!0)}),t("toUint8Array",function(){return L(this)})},V=function(){const t=(e,o)=>Object.defineProperty(Uint8Array.prototype,e,O(o));t("toBase64",function(e){return A(this,e)}),t("toBase64URI",function(){return A(this,!0)}),t("toBase64URL",function(){return A(this,!0)})},et=()=>{P(),V()},D={version:E,VERSION:J,atob:_,atobPolyfill:j,btoa:g,btoaPolyfill:w,fromBase64:b,toBase64:d,encode:d,encodeURI:I,encodeURL:I,utob:R,btou:z,decode:b,isValid:tt,fromUint8Array:A,toUint8Array:L,extendString:P,extendUint8Array:V,extendBuiltins:et},rt={class:"container"},ot={class:"ServerInfo"},nt={key:0,class:"Item"},at={class:"Icon"},st=["src"],it={class:"Info"},dt={class:"Title"},lt={class:"Name"},ct={class:"Stats"},ft=["innerHTML"],ut=i("div",{class:"ChengBotInfo"},null,-1),pt={name:"App",data(){return{server:[],data:{},colorCodes:{"§0":"#000000","§1":"#0000AA","§2":"#00AA00","§3":"#00AAAA","§4":"#AA0000","§5":"#AA00AA","§6":"#FFAA00","§7":"#AAAAAA","§8":"#555555","§9":"#5555FF","§a":"#55FF55","§b":"#55FFFF","§c":"#FF5555","§d":"#FF55FF","§e":"#FFFF55","§f":"#FFFFFF"}}},methods:{getServerInfo(t){Z.get(`http://127.0.0.1:5678/api/ServerInfo/get?server=${t.ip}`).then(e=>{this.data[t.ip]={name:t.name,data:e.data.data}}).catch(e=>{console.error(e)})},getDescription(t){return t.extra?t.extra.map(e=>`<span style="color: ${e.color}; font-weight: ${e.bold?"bold":"normal"};">${e.text}</span>`).join(""):t.text.split(`
`).map(o=>{let r="",s="#FFFFFF";for(let n=0;n<o.length;n++)o[n]==="§"?(s=this.colorCodes[o.slice(n,n+2)]||s,n++):r+=`<span style="color: ${s};">${o[n]}</span>`;return`<div>${r}</div>`}).join("")}},created(){this.$route.query.Server&&(console.log(D.decode(this.$route.query.Server.replace(" ","+"))),this.server=JSON.parse(D.decode(this.$route.query.Server.replace(" ","+"))),this.server.forEach(this.getServerInfo))}},xt=Object.assign(pt,{setup(t){return(e,o)=>(f(),c("div",rt,[i("div",ot,[(f(!0),c(q,null,H(e.server,(r,s)=>(f(),c("div",{key:s,class:"Infos"},[e.data[r.ip]?(f(),c("div",nt,[i("div",at,[i("img",{alt:"",src:e.data[r.ip].data.favicon!==null&&e.data[r.ip].data.favicon!==void 0?e.data[r.ip].data.favicon:"../assets/icons/DefaultServerIcon.png"},null,8,st)]),i("div",it,[i("div",dt,[i("div",lt,[i("h2",null,F(e.data[r.ip].name),1),i("h2",{style:m({color:e.data[r.ip].data!=="无法访问目标服务器!"?"#00FF6B":"#F05678"})},F(e.data[r.ip].data!=="无法访问目标服务器!"?"[在线]":"[离线]"),5)]),i("div",ct,[i("h2",{style:m({color:e.data[r.ip].data!=="无法访问目标服务器!"?"#00FF6B":"#F05678"})},F(e.data[r.ip].data!=="无法访问目标服务器!"?e.data[r.ip].data.players.online+"/"+e.data[r.ip].data.players.max:""),5)])]),e.data[r.ip].data!=="无法访问目标服务器!"?(f(),c("div",{key:0,class:"Description",innerHTML:e.getDescription(e.data[r.ip].data.description)},null,8,ft)):v("",!0)])])):v("",!0)]))),128))]),ut]))}});export{xt as default};
